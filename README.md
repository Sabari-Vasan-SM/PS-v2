# Expo Supabase Password Manager (scaffold)

This is a scaffold for a React Native (Expo) password manager using Supabase for auth and storage.

Features in scaffold:
- Email/password sign-up and sign-in (Supabase Auth)
- Create, read, update, delete password items
- Copy password to clipboard
- Local encryption scaffold (uses AES via crypto-js and Expo SecureStore placeholder)

Important: This is a scaffold to get you started. Review the security notes below before using in production.

Getting started

1. Install dependencies

```powershell
cd "d:/PROJECTS/PS v2"; npm install
```

2. Create a Supabase project and set environment variables in your Expo setup (or replace values in `src/services/supabase.js`):
- EXPO_PUBLIC_SUPABASE_URL
- EXPO_PUBLIC_SUPABASE_ANON_KEY

3. Create the `passwords` table in Supabase SQL (run in SQL editor):

```sql
create table public.passwords (
  id bigint generated by default as identity primary key,
  user_id uuid references auth.users(id) on delete cascade,
  site text not null,
  username text,
  encrypted_password text,
  created_at timestamptz default now()
);

-- Create a policy so users can only see their own rows
alter table public.passwords enable row level security;
create policy "Individuals can manage own passwords" on public.passwords
  for all using (auth.uid() = user_id) with check (auth.uid() = user_id);
```

Security notes
- This scaffold stores encrypted password text in Supabase. The example uses a simple AES flow with a placeholder key. For production, derive encryption keys from a user passphrase, use per-user keys stored securely, or use a hardware-backed keystore.
- Ensure Supabase RLS policies are configured so users only access their rows.
- Consider using end-to-end encryption: encrypt/decrypt on device with a key only the user knows.

Run

```powershell
npm start
```

Next steps and improvements
- Use a proper key derivation (PBKDF2 / Argon2) and per-user keys stored securely.
- Improve UI animations with `react-native-reanimated` and `LayoutAnimation`.
- Add unit tests, CI and E2E tests.
